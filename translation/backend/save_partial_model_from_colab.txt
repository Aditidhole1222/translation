===========================================
SAVE & DOWNLOAD PARTIAL MODEL FROM COLAB
===========================================

After your Germanâ†’English training completes Epoch 1 (33%), add this cell to your Colab notebook:

---------- COLAB CODE CELL ----------

# Save and download partially trained Germanâ†’English model (1 epoch / 33%)

import shutil
from google.colab import files

print("ğŸ“¦ Packaging Germanâ†’English model (33% trained)...")

# The model checkpoint is automatically saved in models/de_en_finetuned/
# We'll zip the latest checkpoint

# Option 1: Use the final model
model_path = "./models/de_en_finetuned"

# Option 2: Or use specific checkpoint (e.g., checkpoint-6000)
# model_path = "./models/de_en_finetuned/checkpoint-6000"

# Create zip file
shutil.make_archive('de_en_finetuned_33pct', 'zip', model_path)

print("âœ… Model packaged as: de_en_finetuned_33pct.zip")
print(f"ğŸ“Š File size: {os.path.getsize('de_en_finetuned_33pct.zip') / 1024**2:.1f} MB")
print("\nâ¬‡ï¸ Downloading model to your computer...")

# Download
files.download('de_en_finetuned_33pct.zip')

print("\nâœ… Download complete!")
print("\nğŸ“‹ Next steps:")
print("1. Move de_en_finetuned_33pct.zip to: C:\\Users\\mohit\\translation\\backend\\")
print("2. Extract it to create: backend/models/de_en_finetuned/")
print("3. Run the backend to test!")

---------- END COLAB CODE ----------


===========================================
AFTER DOWNLOADING TO YOUR COMPUTER
===========================================

1. Move the file to: C:\Users\mohit\translation\backend\

2. Extract the zip file:
   Right-click â†’ Extract All â†’ Extract to backend/models/de_en_finetuned/

3. Your folder structure should be:
   backend/
   â”œâ”€â”€ models/
   â”‚   â””â”€â”€ de_en_finetuned/
   â”‚       â”œâ”€â”€ config.json
   â”‚       â”œâ”€â”€ pytorch_model.bin
   â”‚       â”œâ”€â”€ tokenizer_config.json
   â”‚       â”œâ”€â”€ vocab.json
   â”‚       â””â”€â”€ ...

4. For now, create a dummy Englishâ†’Marathi model directory:
   backend/models/en_mr_finetuned/ (copy from de_en_finetuned temporarily)

5. Start backend:
   cd C:\Users\mohit\translation\backend
   $env:KMP_DUPLICATE_LIB_OK="TRUE"
   python app.py

6. Test the app on your emulator!

===========================================
TEMPORARY WORKAROUND FOR ENâ†’MR MODEL
===========================================

Since the Englishâ†’Marathi model isn't trained yet, we'll use the base model.

The backend will create a symlink or use the Helsinki-NLP/opus-mt-en-mr model 
directly from HuggingFace cache.

This lets you test the FULL pipeline with:
- âœ… Germanâ†’English: Partially trained (33%, 1 epoch)
- âš ï¸ Englishâ†’Marathi: Base model (untrained, but functional)

You can replace it later when the full model trains!

